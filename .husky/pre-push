# .husky/pre-push
#!/bin/sh

# Prevenir push direto para main
current_branch=$(git symbolic-ref --short HEAD)
remote="$1"

# Se tentando push para origin/main
if [ "$remote" = "origin" ] && [ "$current_branch" = "main" ]; then
  echo "âŒ ERRO: Push direto para 'main' nÃ£o Ã© permitido!"
  echo ""
  echo "ğŸ“‹ Fluxo correto:"
  echo "   1. Crie uma branch: git checkout -b feat/nova-funcionalidade"
  echo "   2. FaÃ§a commits nela"
  echo "   3. Envie para o repositÃ³rio: git push origin feat/nova-funcionalidade"
  echo "   4. Abra um Pull Request no GitHub"
  echo ""
  echo "ğŸ”— DocumentaÃ§Ã£o: https://github.com/Micael-Macedo/opalbytes-directive-components/blob/main/README.md#-estratÃ©gia-de-branches"
  exit 1
fi

npm test
